# 前端 API 配置指南

## 如何修改前端的请求地址

前端使用环境变量来配置后端 API 地址。

### 开发环境

1. 打开项目根目录的 `.env` 文件

2. 修改 `VITE_API_URL` 变量：

```bash
# 本地开发
VITE_API_URL=https://clawpump-api.sid.mom

# 或者连接到远程服务器
VITE_API_URL=https://api.yourserver.com
```

3. 重启前端开发服务器：

```bash
npm run dev
```

### 生产环境

#### 方法 1: 环境变量（推荐）

在部署平台设置环境变量：

```bash
VITE_API_URL=https://api.yourproduction.com
```

常见平台设置方式：
- **Vercel**: 在项目设置 → Environment Variables 添加
- **Netlify**: 在 Site settings → Environment variables 添加
- **AWS**: 在 CloudFront/S3 部署时配置环境变量

#### 方法 2: 构建时配置

创建 `.env.production` 文件：

```bash
VITE_API_URL=https://api.yourproduction.com
```

然后构建：

```bash
npm run build
```

### 验证配置

启动前端后，打开浏览器控制台，查看 WebSocket 连接地址是否正确：

```javascript
// 应该显示你配置的 API 地址
console.log(import.meta.env.VITE_API_URL)
```

### 注意事项

1. **环境变量必须以 `VITE_` 开头**才能在前端代码中访问
2. **修改 `.env` 后必须重启开发服务器**
3. **生产构建会将环境变量硬编码到打包文件中**
4. **不要在 `.env` 中存储敏感信息**，前端环境变量会暴露给用户

### 常见配置示例

```bash
# 本地开发
VITE_API_URL=https://clawpump-api.sid.mom

# 内网测试
VITE_API_URL=http://192.168.1.100:3001

# 云服务器
VITE_API_URL=https://api.pumpbot.io

# Ngrok 隧道
VITE_API_URL=https://clawpump.sid.mom.ngrok.io
```

### 多环境配置

您可以创建多个环境文件：

- `.env` - 所有环境的默认值
- `.env.local` - 本地开发专用（不提交到 git）
- `.env.development` - 开发环境
- `.env.production` - 生产环境

Vite 会根据运行的命令自动加载对应的文件。
